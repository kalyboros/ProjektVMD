<!DOCTYPE html>
<html class="no-js" lang="">
   <head>
     <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
     <meta charset="utf-8">
   	 <meta http-equiv="x-ua-compatible" content="ie=edge">
   <meta charset="utf-8">
   <title>Izris poti</title>
   <style>
     /* Always set the map height explicitly to define the size of the div
      * element that contains the map. */
     #map {
       height: 100%;
     }
     /* Optional: Makes the sample page fill the window. */
     html, body {
       height: 100%;
       margin: 0;
       padding: 0;
     }
   </style>
   </head>
   <body>
     <div class="divButtonContainer">
    		<button class="button"  onclick="myFunction()">Pridobi podatke</button>
   	 </div>
     <div id="map"></div>
     <script src="myscript.js"></script>
     <script src="http://code.jquery.com/jquery-latest.min.js"></script>
     <script src="/socket.io/socket.io.js"></script>
     <script>
        var socket = io();

        function myFunction(){
         socket.emit('RequestUpdate', "0");

        }


        //posiljanje zahtevkov na server preko gumba

        socket.on('izris', function(longitudes,latitudes){
          alert(longitudes[0]);
          initMap(latitudes, longitudes);
        });
     </script>
   <script>

     function initMap(latitudes, longitudes) {
       var map = new google.maps.Map(document.getElementById('map'), {
         zoom: 3,
         center: {lat: parseFloat(latitudes[0]), lng: parseFloat(longitudes[0])},
         mapTypeId: 'terrain'
       });

       var pathCoordinates = [
         {lat: parseFloat(latitudes[0]), lng: parseFloat(longitudes[0])},
         {lat: parseFloat(latitudes[1]), lng: parseFloat(longitudes[1])},
         {lat: parseFloat(latitudes[2]), lng: parseFloat(longitudes[2])},
         {lat: parseFloat(latitudes[3]), lng: parseFloat(longitudes[3])},
         {lat: parseFloat(latitudes[4]), lng: parseFloat(longitudes[4])},
       ];
       var route = new google.maps.Polyline({
         path: pathCoordinates,
         geodesic: true,
         strokeColor: '#FF0000',
         strokeOpacity: 1.0,
         strokeWeight: 2
       });

       route.setMap(map);
     }
   </script>
   <script async defer
   src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDL6aljOJR5XoctTtjeyMibZzly7o6LI4g&callback=initMap">
   </script>

   </body>
</html>
